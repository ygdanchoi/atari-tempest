{"version":3,"sources":["webpack:///webpack/bootstrap a58c9ee8f9634f5d2176","webpack:///./lib/util.js","webpack:///./lib/moving_object.js","webpack:///./lib/blaster_bullet.js","webpack:///./lib/blaster.js","webpack:///./lib/blaster_explosion.js","webpack:///./lib/enemy_explosion.js","webpack:///./lib/game.js","webpack:///./lib/enemy_bullet.js","webpack:///./lib/game_view.js","webpack:///./lib/atari_tempest.js","webpack:///./lib/flipper.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AChEA;;AAEA;AACA;AACA;AACA;AACA,4CAA4C,qBAAqB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,qBAAqB,mBAAmB;AACxC;AACA;AACA;AACA,KAAK;AACL,qBAAqB,mBAAmB;AACxC;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;;;;;;;ACxdA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;AChBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;AC1CA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;AC3HA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,wCAAwC;AAC3D;AACA;AACA;AACA;AACA,qBAAqB,gBAAgB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACxFA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gCAAgC,aAAa;AAC7C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,iCAAiC;AACpD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,yBAAyB;AAC5C,qBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,gBAAgB;AACnC;AACA;AACA;AACA;AACA;AACA,qBAAqB,mBAAmB;AACxC;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,6BAA6B,WAAW;AACxC;;AAEA;AACA;AACA,mBAAmB,6BAA6B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,mBAAmB,2BAA2B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,iCAAiC;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,2BAA2B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA,uBAAuB,2BAA2B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,iCAAiC;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7wBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;AC3EA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,4CAA4C;AAC5C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7GA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;;;;;;;ACZD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA","file":"./bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a58c9ee8f9634f5d2176","const Game = require('./game');\r\n\r\nconst Util = {\r\n  isInside(point, boundary) {\r\n    let result = false;\r\n    // http://stackoverflow.com/questions/8721406/how-to-determine-if-a-point-is-inside-a-2d-convex-polygon\r\n    for (let i = 0, j = boundary.length - 1; i < boundary.length; j = i++) {\r\n      if ((boundary[i][1] > point[1]) != (boundary[j][1] > point[1]) &&\r\n      (point[0] < (boundary[j][0] - boundary[i][0]) * (point[1] - boundary[i][1]) / (boundary[j][1] - boundary[i][1]) + boundary[i][0])) {\r\n        result = !result;\r\n      }\r\n    }\r\n    return result;\r\n  },\r\n\r\n  distanceBetweenPoints(point1, point2) {\r\n    const x1 = point1[0];\r\n    const y1 = point1[1];\r\n    const x2 = point2[0];\r\n    const y2 = point2[1];\r\n    return Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\r\n  },\r\n\r\n  distanceToLine(point0, point1, point2) {\r\n    const x0 = point0[0];\r\n    const y0 = point0[1];\r\n    const x1 = point1[0];\r\n    const y1 = point1[1];\r\n    const x2 = point2[0];\r\n    const y2 = point2[1];\r\n    const numerator = Math.abs((y2 - y1) * x0 - (x2 - x1) * y0 + x2 * y1 - y2 * x1);\r\n    const denominator = Math.sqrt(Math.pow(y2 - y1, 2) + Math.pow(x2 - x1, 2));\r\n    return numerator / denominator;\r\n  },\r\n\r\n  xFractionInTubeQuad(point, tubeQuad) {\r\n    const distBack = Util.distanceToLine(point, tubeQuad[0], tubeQuad[3]);\r\n    const distForward = Util.distanceToLine(point, tubeQuad[1], tubeQuad[2]);\r\n    const distTotal = distBack + distForward;\r\n    return distBack / distTotal;\r\n  },\r\n\r\n  midpoint(point1, point2) {\r\n    const x1 = point1[0];\r\n    const y1 = point1[1];\r\n    const x2 = point2[0];\r\n    const y2 = point2[1];\r\n    return [(x1 + x2) / 2, (y1 + y2) / 2];\r\n  },\r\n\r\n  weightedMidpoint(point1, point2, weight) {\r\n    const x1 = point1[0];\r\n    const y1 = point1[1];\r\n    const x2 = point2[0];\r\n    const y2 = point2[1];\r\n    return [x1 * (1 - weight) + x2 * weight, y1 * (1 - weight) + y2 * weight];\r\n  },\r\n\r\n  vector(point1, point2, scalar = 1) {\r\n    const x1 = point1[0];\r\n    const y1 = point1[1];\r\n    const x2 = point2[0];\r\n    const y2 = point2[1];\r\n    return [(x2 - x1) * scalar, (y2 - y1) * scalar];\r\n  },\r\n\r\n  unitVector(point1, point2, scalar = 1) {\r\n    const x1 = point1[0];\r\n    const y1 = point1[1];\r\n    const x2 = point2[0];\r\n    const y2 = point2[1];\r\n    const distance = Util.distanceBetweenPoints(point1, point2);\r\n    return [(x2 - x1) / distance * scalar, (y2 - y1) / distance * scalar];\r\n  },\r\n\r\n  orthogonalUnitVector(point1, point2, scalar = 1) {\r\n    const x1 = point1[0];\r\n    const y1 = point1[1];\r\n    const x2 = point2[0];\r\n    const y2 = point2[1];\r\n    const x = (x2 - x1) / Util.distanceBetweenPoints(point1, point2) * scalar;\r\n    const y = (y2 - y1) / Util.distanceBetweenPoints(point1, point2) * scalar;\r\n    return [y, -x];\r\n  },\r\n\r\n  addVector(point1, point2, scalar = 1) {\r\n    const x1 = point1[0];\r\n    const y1 = point1[1];\r\n    const x2 = point2[0];\r\n    const y2 = point2[1];\r\n    return [x1 + x2 * scalar, y1 + y2 * scalar];\r\n  },\r\n\r\n  slope(point1, point2) {\r\n    const x1 = point1[0];\r\n    const y1 = point1[1];\r\n    const x2 = point2[0];\r\n    const y2 = point2[1];\r\n    return (y2 - y1) / (x2 - x1);\r\n  },\r\n\r\n  theta(point1, point2, point3) {\r\n    const a = Util.distanceBetweenPoints(point1, point2);\r\n    const b = Util.distanceBetweenPoints(point2, point3);\r\n    const c = Util.distanceBetweenPoints(point1, point3);\r\n    const numerator = Math.pow(a, 2) + Math.pow(b, 2) - Math.pow(c, 2);\r\n    const denominator = 2 * a * b;\r\n    return Math.acos(numerator/denominator);\r\n  },\r\n\r\n  rotateAroundPoint(point1, point2, angle) {\r\n    const x1 = point1[0];\r\n    const y1 = point1[1];\r\n    const x2 = point2[0];\r\n    const y2 = point2[1];\r\n    const x = (x1 - x2) * Math.cos(angle) - (y1 - y2) * Math.sin(angle) + x2;\r\n    const y = (x1 - x2) * Math.sin(angle) + (y1 - y2) * Math.cos(angle) + y2;\r\n    return [x, y];\r\n  },\r\n\r\n  easeInQuad(fraction) {\r\n    return Math.pow(fraction, 2);\r\n  },\r\n\r\n  easeOutQuad(fraction) {\r\n    return 1 - Math.pow(fraction - 1, 2);\r\n  },\r\n\r\n  drawString(string, pos, size, align, color, context) {\r\n    string = string.toString();\r\n    let width;\r\n    if (size === 'small') {\r\n      width = 11;\r\n    } else if (size === 'large') {\r\n      width = 22;\r\n    }\r\n    if (align === 'align-left') {\r\n      for (let i = 0; i < string.length; i++) {\r\n        newPos = Util.addVector(pos, [width * i, 0]);\r\n        Util.drawChar(string[i], newPos, size, color, context);\r\n      }\r\n    } else if (align === 'align-right') {\r\n      for (let i = 0; i < string.length; i++) {\r\n        newPos = Util.addVector(pos, [width * i, 0], -1);\r\n        Util.drawChar(string[string.length - 1 - i], newPos, size, color, context);\r\n      }\r\n    }\r\n  },\r\n\r\n  drawChar(char, pos, size, color, context) {\r\n    let points;\r\n    if (size === 'large') {\r\n      points = {\r\n        topL: [0, 0],\r\n        topC: [8, 0],\r\n        topR: [15, 0],\r\n        midL: [0, 11],\r\n        midC: [8, 11],\r\n        midR: [15, 11],\r\n        btmL: [0, 21],\r\n        btmC: [8, 21],\r\n        btmR: [15, 21],\r\n      };\r\n    } else if (size === 'small') {\r\n      points = {\r\n        topL: [0, 0],\r\n        topC: [4, 0],\r\n        topR: [8, 0],\r\n        midL: [0, 6],\r\n        midC: [4, 6],\r\n        midR: [8, 6],\r\n        btmL: [0, 11],\r\n        btmC: [4, 11],\r\n        btmR: [8, 11],\r\n      };\r\n    }\r\n    context.strokeStyle = color;\r\n    context.shadowColor = color;\r\n    context.shadowBlur = 10;\r\n    context.beginPath();\r\n    switch (char) {\r\n      case '0':\r\n        context.moveTo(...Util.addVector(pos, points.topL));\r\n        context.lineTo(...Util.addVector(pos, points.topR));\r\n        context.lineTo(...Util.addVector(pos, points.btmR));\r\n        context.lineTo(...Util.addVector(pos, points.btmL));\r\n        context.lineTo(...Util.addVector(pos, points.topL));\r\n        break;\r\n      case '1':\r\n        context.moveTo(...Util.addVector(pos, points.topR));\r\n        context.lineTo(...Util.addVector(pos, points.btmR));\r\n        break;\r\n      case '2':\r\n        context.moveTo(...Util.addVector(pos, points.topL));\r\n        context.lineTo(...Util.addVector(pos, points.topR));\r\n        context.lineTo(...Util.addVector(pos, points.midR));\r\n        context.lineTo(...Util.addVector(pos, points.midL));\r\n        context.lineTo(...Util.addVector(pos, points.btmL));\r\n        context.lineTo(...Util.addVector(pos, points.btmR));\r\n        break;\r\n      case '3':\r\n        context.moveTo(...Util.addVector(pos, points.topL));\r\n        context.lineTo(...Util.addVector(pos, points.topR));\r\n        context.lineTo(...Util.addVector(pos, points.btmR));\r\n        context.lineTo(...Util.addVector(pos, points.btmL));\r\n        context.moveTo(...Util.addVector(pos, points.midL));\r\n        context.lineTo(...Util.addVector(pos, points.midR));\r\n        break;\r\n      case '4':\r\n        context.moveTo(...Util.addVector(pos, points.topL));\r\n        context.lineTo(...Util.addVector(pos, points.midL));\r\n        context.lineTo(...Util.addVector(pos, points.midR));\r\n        context.moveTo(...Util.addVector(pos, points.topR));\r\n        context.lineTo(...Util.addVector(pos, points.btmR));\r\n        break;\r\n      case '5':\r\n        context.moveTo(...Util.addVector(pos, points.topR));\r\n        context.lineTo(...Util.addVector(pos, points.topL));\r\n        context.lineTo(...Util.addVector(pos, points.midL));\r\n        context.lineTo(...Util.addVector(pos, points.midR));\r\n        context.lineTo(...Util.addVector(pos, points.btmR));\r\n        context.lineTo(...Util.addVector(pos, points.btmL));\r\n        break;\r\n      case '6':\r\n        context.moveTo(...Util.addVector(pos, points.topL));\r\n        context.lineTo(...Util.addVector(pos, points.btmL));\r\n        context.lineTo(...Util.addVector(pos, points.btmR));\r\n        context.lineTo(...Util.addVector(pos, points.midR));\r\n        context.lineTo(...Util.addVector(pos, points.midL));\r\n        break;\r\n      case '7':\r\n        context.moveTo(...Util.addVector(pos, points.topL));\r\n        context.lineTo(...Util.addVector(pos, points.topR));\r\n        context.lineTo(...Util.addVector(pos, points.btmR));\r\n        break;\r\n      case '8':\r\n        context.moveTo(...Util.addVector(pos, points.topL));\r\n        context.lineTo(...Util.addVector(pos, points.topR));\r\n        context.lineTo(...Util.addVector(pos, points.btmR));\r\n        context.lineTo(...Util.addVector(pos, points.btmL));\r\n        context.lineTo(...Util.addVector(pos, points.topL));\r\n        context.moveTo(...Util.addVector(pos, points.midL));\r\n        context.lineTo(...Util.addVector(pos, points.midR));\r\n        break;\r\n      case '9':\r\n        context.moveTo(...Util.addVector(pos, points.btmR));\r\n        context.lineTo(...Util.addVector(pos, points.topR));\r\n        context.lineTo(...Util.addVector(pos, points.topL));\r\n        context.lineTo(...Util.addVector(pos, points.midL));\r\n        context.lineTo(...Util.addVector(pos, points.midR));\r\n        break;\r\n      case 'A':\r\n        context.moveTo(...Util.addVector(pos, points.btmL));\r\n        context.lineTo(...Util.addVector(pos, points.midL));\r\n        context.lineTo(...Util.addVector(pos, points.topC));\r\n        context.lineTo(...Util.addVector(pos, points.midR));\r\n        context.lineTo(...Util.addVector(pos, points.btmR));\r\n        context.moveTo(...Util.addVector(pos, points.midL));\r\n        context.lineTo(...Util.addVector(pos, points.midR));\r\n        break;\r\n      case 'B':\r\n        context.moveTo(...Util.addVector(pos, points.topL));\r\n        context.lineTo(...Util.addVector(pos, points.topC));\r\n        context.lineTo(...Util.addVector(pos, Util.weightedMidpoint(points.topR, points.midR, 1/3)));\r\n        context.lineTo(...Util.addVector(pos, Util.weightedMidpoint(points.topR, points.midR, 2/3)));\r\n        context.lineTo(...Util.addVector(pos, points.midC));\r\n        context.lineTo(...Util.addVector(pos, points.midL));\r\n        context.moveTo(...Util.addVector(pos, points.midC));\r\n        context.lineTo(...Util.addVector(pos, Util.weightedMidpoint(points.midR, points.btmR, 1/3)));\r\n        context.lineTo(...Util.addVector(pos, Util.weightedMidpoint(points.midR, points.btmR, 2/3)));\r\n        context.lineTo(...Util.addVector(pos, points.btmC));\r\n        context.lineTo(...Util.addVector(pos, points.btmL));\r\n        context.lineTo(...Util.addVector(pos, points.topL));\r\n        break;\r\n      case 'C':\r\n        context.moveTo(...Util.addVector(pos, points.topR));\r\n        context.lineTo(...Util.addVector(pos, points.topL));\r\n        context.lineTo(...Util.addVector(pos, points.btmL));\r\n        context.lineTo(...Util.addVector(pos, points.btmR));\r\n        break;\r\n      case 'D':\r\n        context.moveTo(...Util.addVector(pos, points.topL));\r\n        context.lineTo(...Util.addVector(pos, points.topC));\r\n        context.lineTo(...Util.addVector(pos, points.midR));\r\n        context.lineTo(...Util.addVector(pos, points.btmC));\r\n        context.lineTo(...Util.addVector(pos, points.btmL));\r\n        context.lineTo(...Util.addVector(pos, points.topL));\r\n        break;\r\n      case 'E':\r\n        context.moveTo(...Util.addVector(pos, points.topR));\r\n        context.lineTo(...Util.addVector(pos, points.topL));\r\n        context.lineTo(...Util.addVector(pos, points.btmL));\r\n        context.lineTo(...Util.addVector(pos, points.btmR));\r\n        context.moveTo(...Util.addVector(pos, points.midL));\r\n        context.lineTo(...Util.addVector(pos, points.midR));\r\n        break;\r\n      case 'F':\r\n        context.moveTo(...Util.addVector(pos, points.topR));\r\n        context.lineTo(...Util.addVector(pos, points.topL));\r\n        context.lineTo(...Util.addVector(pos, points.btmL));\r\n        context.moveTo(...Util.addVector(pos, points.midL));\r\n        context.lineTo(...Util.addVector(pos, points.midR));\r\n        break;\r\n      case 'G':\r\n        context.moveTo(...Util.addVector(pos, points.topR));\r\n        context.lineTo(...Util.addVector(pos, points.topL));\r\n        context.lineTo(...Util.addVector(pos, points.btmL));\r\n        context.lineTo(...Util.addVector(pos, points.btmR));\r\n        context.lineTo(...Util.addVector(pos, points.midR));\r\n        context.lineTo(...Util.addVector(pos, points.midC));\r\n        break;\r\n      case 'H':\r\n        context.moveTo(...Util.addVector(pos, points.topL));\r\n        context.lineTo(...Util.addVector(pos, points.btmL));\r\n        context.moveTo(...Util.addVector(pos, points.midL));\r\n        context.lineTo(...Util.addVector(pos, points.midR));\r\n        context.moveTo(...Util.addVector(pos, points.topR));\r\n        context.lineTo(...Util.addVector(pos, points.btmR));\r\n        break;\r\n      case 'I':\r\n        context.moveTo(...Util.addVector(pos, points.topC));\r\n        context.lineTo(...Util.addVector(pos, points.btmC));\r\n        break;\r\n      case 'K':\r\n        context.moveTo(...Util.addVector(pos, points.topL));\r\n        context.lineTo(...Util.addVector(pos, points.btmL));\r\n        context.moveTo(...Util.addVector(pos, points.topR));\r\n        context.lineTo(...Util.addVector(pos, points.midL));\r\n        context.lineTo(...Util.addVector(pos, points.btmR));\r\n        break;\r\n      case 'L':\r\n        context.moveTo(...Util.addVector(pos, points.topL));\r\n        context.lineTo(...Util.addVector(pos, points.btmL));\r\n        context.lineTo(...Util.addVector(pos, points.btmR));\r\n        break;\r\n      case 'M':\r\n        context.moveTo(...Util.addVector(pos, points.btmL));\r\n        context.lineTo(...Util.addVector(pos, points.topL));\r\n        context.lineTo(...Util.addVector(pos, points.midC));\r\n        context.lineTo(...Util.addVector(pos, points.topR));\r\n        context.lineTo(...Util.addVector(pos, points.btmR));\r\n        break;\r\n      case 'N':\r\n        context.moveTo(...Util.addVector(pos, points.btmL));\r\n        context.lineTo(...Util.addVector(pos, points.topL));\r\n        context.lineTo(...Util.addVector(pos, points.btmR));\r\n        context.lineTo(...Util.addVector(pos, points.topR));\r\n        break;\r\n      case 'O':\r\n        context.moveTo(...Util.addVector(pos, points.topL));\r\n        context.lineTo(...Util.addVector(pos, points.topR));\r\n        context.lineTo(...Util.addVector(pos, points.btmR));\r\n        context.lineTo(...Util.addVector(pos, points.btmL));\r\n        context.lineTo(...Util.addVector(pos, points.topL));\r\n        break;\r\n      case 'P':\r\n        context.moveTo(...Util.addVector(pos, points.btmL));\r\n        context.lineTo(...Util.addVector(pos, points.topL));\r\n        context.lineTo(...Util.addVector(pos, points.topR));\r\n        context.lineTo(...Util.addVector(pos, points.midR));\r\n        context.lineTo(...Util.addVector(pos, points.midL));\r\n        break;\r\n      case 'R':\r\n        context.moveTo(...Util.addVector(pos, points.btmL));\r\n        context.lineTo(...Util.addVector(pos, points.topL));\r\n        context.lineTo(...Util.addVector(pos, points.topR));\r\n        context.lineTo(...Util.addVector(pos, points.midR));\r\n        context.lineTo(...Util.addVector(pos, points.midL));\r\n        context.lineTo(...Util.addVector(pos, points.btmR));\r\n        break;\r\n      case 'S':\r\n        context.moveTo(...Util.addVector(pos, points.topR));\r\n        context.lineTo(...Util.addVector(pos, points.topL));\r\n        context.lineTo(...Util.addVector(pos, points.midL));\r\n        context.lineTo(...Util.addVector(pos, points.midR));\r\n        context.lineTo(...Util.addVector(pos, points.btmR));\r\n        context.lineTo(...Util.addVector(pos, points.btmL));\r\n        break;\r\n      case 'T':\r\n        context.moveTo(...Util.addVector(pos, points.topL));\r\n        context.lineTo(...Util.addVector(pos, points.topR));\r\n        context.moveTo(...Util.addVector(pos, points.topC));\r\n        context.lineTo(...Util.addVector(pos, points.btmC));\r\n        break;\r\n      case 'U':\r\n        context.moveTo(...Util.addVector(pos, points.topL));\r\n        context.lineTo(...Util.addVector(pos, points.btmL));\r\n        context.lineTo(...Util.addVector(pos, points.btmR));\r\n        context.lineTo(...Util.addVector(pos, points.topR));\r\n        break;\r\n      case 'V':\r\n        context.moveTo(...Util.addVector(pos, points.topL));\r\n        context.lineTo(...Util.addVector(pos, points.btmC));\r\n        context.lineTo(...Util.addVector(pos, points.topR));\r\n        break;\r\n      case 'Y':\r\n        context.moveTo(...Util.addVector(pos, points.topL));\r\n        context.lineTo(...Util.addVector(pos, points.midC));\r\n        context.lineTo(...Util.addVector(pos, points.topR));\r\n        context.moveTo(...Util.addVector(pos, points.midC));\r\n        context.lineTo(...Util.addVector(pos, points.btmC));\r\n        break;\r\n      case ' ':\r\n        break;\r\n      case '-':\r\n        context.moveTo(...Util.addVector(pos, points.midL));\r\n        context.lineTo(...Util.addVector(pos, points.midR));\r\n        break;\r\n      case '<':\r\n        context.moveTo(...Util.addVector(pos, points.topC));\r\n        context.lineTo(...Util.addVector(pos, points.midL));\r\n        context.lineTo(...Util.addVector(pos, points.btmC));\r\n        context.moveTo(...Util.addVector(pos, points.midL));\r\n        context.lineTo(...Util.addVector(pos, points.midR));\r\n        break;\r\n      case '>':\r\n        context.moveTo(...Util.addVector(pos, points.topC));\r\n        context.lineTo(...Util.addVector(pos, points.midR));\r\n        context.lineTo(...Util.addVector(pos, points.btmC));\r\n        context.moveTo(...Util.addVector(pos, points.midL));\r\n        context.lineTo(...Util.addVector(pos, points.midR));\r\n        break;\r\n      case '&':\r\n        context.moveTo(...Util.addVector(pos, Util.midpoint(points.topR, points.midR)));\r\n        context.lineTo(...Util.addVector(pos, Util.midpoint(points.topL, points.midL)));\r\n        context.lineTo(...Util.addVector(pos, Util.midpoint(points.btmL, points.midL)));\r\n        context.lineTo(...Util.addVector(pos, Util.midpoint(points.btmR, points.midR)));\r\n        context.moveTo(...Util.addVector(pos, points.midL));\r\n        context.lineTo(...Util.addVector(pos, points.midR));\r\n        context.moveTo(...Util.addVector(pos, points.topC));\r\n        context.lineTo(...Util.addVector(pos, Util.midpoint(points.topC, points.midC)));\r\n        context.moveTo(...Util.addVector(pos, points.btmC));\r\n        context.lineTo(...Util.addVector(pos, Util.midpoint(points.btmC, points.midC)));\r\n        break;\r\n      case '*':\r\n        context.moveTo(...Util.addVector(pos, points.topL));\r\n        context.lineTo(...Util.addVector(pos, points.btmR));\r\n        context.moveTo(...Util.addVector(pos, points.topR));\r\n        context.lineTo(...Util.addVector(pos, points.btmL));\r\n        context.moveTo(...Util.addVector(pos, points.midL));\r\n        context.lineTo(...Util.addVector(pos, points.midR));\r\n        context.moveTo(...Util.addVector(pos, points.topC));\r\n        context.lineTo(...Util.addVector(pos, points.btmC));\r\n        break;\r\n      default:\r\n        context.font=\"18px Arial\";\r\n        context.fillText(char, pos[0], pos[1] + 10);\r\n        break;\r\n    }\r\n    context.stroke();\r\n  },\r\n\r\n  overGitHub(pos) {\r\n    const topLft = [121, 422];\r\n    const btmRgt = [184, 433];\r\n    return topLft[0] <= pos[0] && pos[0] <= btmRgt[0] && topLft[1] <= pos[1] && pos[1] <= btmRgt[1];\r\n  },\r\n\r\n  overLinkedIn(pos) {\r\n    const topLft = [220, 422];\r\n    const btmRgt = [305, 433];\r\n    return topLft[0] <= pos[0] && pos[0] <= btmRgt[0] && topLft[1] <= pos[1] && pos[1] <= btmRgt[1];\r\n  },\r\n\r\n  overGmail(pos) {\r\n    const topLft = [341, 422];\r\n    const btmRgt = [393, 433];\r\n    return topLft[0] <= pos[0] && pos[0] <= btmRgt[0] && topLft[1] <= pos[1] && pos[1] <= btmRgt[1];\r\n  },\r\n\r\n};\r\n\r\nmodule.exports = Util;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/util.js\n// module id = 0\n// module chunks = 0","class MovingObject {\r\n  constructor(options) {\r\n    this.game = options.game;\r\n  }\r\n\r\n  draw(context) {\r\n  }\r\n\r\n  move() {\r\n  }\r\n\r\n  remove() {\r\n    this.game.remove(this);\r\n  }\r\n}\r\n\r\nmodule.exports = MovingObject;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/moving_object.js\n// module id = 1\n// module chunks = 0","const MovingObject = require('./moving_object');\r\nconst Util = require('./util');\r\n\r\nclass BlasterBullet extends MovingObject {\r\n  constructor(options) {\r\n    super(options);\r\n    this.tubeQuadIdx = options.tubeQuadIdx;\r\n    this.zPos = 0;\r\n    this.game.blasterBulletSound.currentTime = 0.001;\r\n    this.game.blasterBulletSound.play();\r\n  }\r\n\r\n  draw(context) {\r\n    const tubeQuad = this.game.tubeQuads[this.tubeQuadIdx];\r\n    context.fillStyle = BlasterBullet.WHITE;\r\n    context.shadowColor = BlasterBullet.WHITE;\r\n    context.shadowBlur = BlasterBullet.SHADOW_BLUR;\r\n    context.beginPath();\r\n    const posRim = Util.midpoint(tubeQuad[0], tubeQuad[1]);\r\n    const posPit = Util.midpoint(tubeQuad[2], tubeQuad[3]);\r\n    const easeFraction = Util.easeOutQuad(this.zPos / BlasterBullet.MAX_Z_POS);\r\n    const distInward = Util.vector(posRim, posPit, easeFraction);\r\n    const pos = Util.addVector(posRim, distInward);\r\n    context.arc(\r\n      pos[0], pos[1], 3 * (1 - easeFraction) + 1, 0, 2 * Math.PI, true\r\n    );\r\n    context.fill();\r\n  }\r\n\r\n  move() {\r\n    this.zPos += BlasterBullet.Z_VEL;\r\n    if (this.zPos > BlasterBullet.MAX_Z_POS) {\r\n      this.remove();\r\n    }\r\n  }\r\n}\r\n\r\nBlasterBullet.Z_VEL = 5;\r\nBlasterBullet.WHITE = '#ffffff';\r\nBlasterBullet.SHADOW_BLUR = 10;\r\nBlasterBullet.MAX_Z_POS = 120;\n\r\nmodule.exports = BlasterBullet;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/blaster_bullet.js\n// module id = 2\n// module chunks = 0","const MovingObject = require('./moving_object');\r\nconst BlasterBullet = require('./blaster_bullet');\r\nconst Util = require('./util');\r\n\r\nclass Blaster extends MovingObject {\r\n  constructor(options) {\r\n    super(options);\r\n    this.xPos = 0;\r\n    this.targetXPos = null;\r\n    this.firing = false;\r\n    this.changingXPos = 0;\r\n  }\r\n\r\n  draw(context) {\r\n    this.xPosInTubeQuad = this.xPos % Blaster.NUM_BLASTER_POSITIONS;\r\n    this.tubeQuadIdx = Math.floor(this.xPos / Blaster.NUM_BLASTER_POSITIONS);\r\n    const tubeQuad = this.game.tubeQuads[this.tubeQuadIdx];\r\n    this.drawTubeQuad(context, tubeQuad);\r\n    this.drawBlaster(context, tubeQuad);\r\n  }\r\n\r\n  move() {\r\n    if (this.targetXPos) {\r\n      const numXPos = this.game.tubeQuads.length * Blaster.NUM_BLASTER_POSITIONS;\r\n      if (this.xPos <= this.targetXPos - Blaster.NUM_BLASTER_POSITIONS) {\r\n        if (this.targetXPos - this.xPos < numXPos / 2) {\r\n          this.changingXPos = Blaster.NUM_BLASTER_POSITIONS;\r\n        } else {\r\n          this.changingXPos = -Blaster.NUM_BLASTER_POSITIONS;\r\n        }\r\n      } else if (this.xPos >= this.targetXPos + Blaster.NUM_BLASTER_POSITIONS) {\r\n        if (this.xPos - this.targetXPos < numXPos / 2) {\r\n          this.changingXPos = -Blaster.NUM_BLASTER_POSITIONS;\r\n        } else {\r\n          this.changingXPos = Blaster.NUM_BLASTER_POSITIONS;\r\n        }\r\n      } else {\r\n        this.changingXPos = 0;\r\n        this.changeXPos(this.targetXPos - this.xPos);\r\n        this.targetXPos = null;\r\n      }\r\n    }\r\n    if (this.changingXPos !== 0) {\r\n      this.changeXPos(this.changingXPos);\r\n    }\r\n    if (this.firing) {\r\n      this.fireBullet();\r\n    }\r\n  }\r\n\r\n  drawTubeQuad(context, tubeQuad) {\r\n    context.strokeStyle = Blaster.YELLOW;\r\n    context.shadowColor = Blaster.YELLOW;\r\n    context.shadowBlur = Blaster.SHADOW_BLUR;\r\n    context.beginPath();\r\n    context.moveTo(...tubeQuad[1]);\r\n    context.lineTo(...tubeQuad[2]);\r\n    context.moveTo(...tubeQuad[3]);\r\n    context.lineTo(...tubeQuad[0]);\r\n    context.closePath();\r\n    context.stroke();\r\n  }\r\n\r\n  drawBlaster(context, tubeQuad) {\r\n    const posRimFlexible = Util.weightedMidpoint(tubeQuad[0], tubeQuad[1], (this.xPosInTubeQuad + 1) / (Blaster.NUM_BLASTER_POSITIONS + 1));\r\n    const posRimLeft = Util.weightedMidpoint(tubeQuad[0], tubeQuad[1], 0.9);\r\n    const posRimMidLeft = Util.weightedMidpoint(tubeQuad[0], tubeQuad[1], 0.6);\r\n    const posRimMidRight = Util.weightedMidpoint(tubeQuad[0], tubeQuad[1], 0.4);\r\n    const posRimRight = Util.weightedMidpoint(tubeQuad[0], tubeQuad[1], 0.1);\r\n    const posPitFlexible = Util.weightedMidpoint(tubeQuad[3], tubeQuad[2], (this.xPosInTubeQuad + 1) / (Blaster.NUM_BLASTER_POSITIONS + 1));\r\n    const toClawBack = Util.orthogonalUnitVector(tubeQuad[0], tubeQuad[1], 10);\r\n    const posClawBackOuter = Util.addVector(posRimFlexible, toClawBack, 2);\r\n    const posClawBackInner = Util.addVector(posRimFlexible, toClawBack);\r\n    const posClawPointLeft = Util.addVector(posRimMidLeft, toClawBack, -1);\r\n    const posClawPointRight = Util.addVector(posRimMidRight, toClawBack, -1);\r\n    context.strokeStyle = Blaster.YELLOW;\r\n    context.shadowColor = Blaster.YELLOW;\r\n    context.shadowBlur = Blaster.SHADOW_BLUR;\r\n    context.beginPath();\r\n    context.moveTo(...tubeQuad[0]);\r\n    context.lineTo(...posClawBackOuter);\r\n    context.lineTo(...tubeQuad[1]);\r\n    context.lineTo(...posClawPointLeft);\r\n    context.lineTo(...posRimLeft);\r\n    context.lineTo(...posClawBackInner);\r\n    context.lineTo(...posRimRight);\r\n    context.lineTo(...posClawPointRight);\r\n    context.closePath();\r\n    context.stroke();\r\n  }\r\n\r\n  fireBullet() {\r\n    const tubeQuad = this.tubeQuad;\r\n    if (this.game.blasterBullets.length < Blaster.MAX_NUM_BULLETS) {\r\n      const blasterBullet = new BlasterBullet({\r\n        game: this.game,\r\n        tubeQuadIdx: this.tubeQuadIdx,\r\n      });\r\n      this.game.add(blasterBullet);\r\n    }\r\n  }\r\n\r\n  changeXPos(increment) {\r\n    const oldXPos = this.xPos;\r\n    this.xPos += increment;\r\n    const numXPos = this.game.tubeQuads.length * Blaster.NUM_BLASTER_POSITIONS;\r\n    if (this.xPos < 0) {\r\n      this.xPos += numXPos;\r\n    } else if (this.xPos >= numXPos) {\r\n      this.xPos -= numXPos;\r\n    }\r\n    if (Math.floor(oldXPos / Blaster.NUM_BLASTER_POSITIONS) !== Math.floor(this.xPos / Blaster.NUM_BLASTER_POSITIONS)) {\r\n      this.game.blasterMoveSound.currentTime = 0;\r\n      this.game.blasterMoveSound.play();\r\n    }\r\n  }\r\n}\r\n\r\nBlaster.YELLOW = '#ffff00';\r\nBlaster.SHADOW_BLUR = 10;\r\nBlaster.NUM_BLASTER_POSITIONS = 7;\r\nBlaster.MAX_NUM_BULLETS = 8;\r\n\r\nmodule.exports = Blaster;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/blaster.js\n// module id = 3\n// module chunks = 0","const MovingObject = require('./moving_object');\r\nconst Util = require('./util');\r\n\r\nclass BlasterExplosion extends MovingObject {\r\n  constructor(options) {\r\n    super(options);\r\n    this.tubeQuadIdx = options.tubeQuadIdx;\r\n    this.size = 1;\r\n    this.shinking = false;\r\n    this.game.blasterExplosionSound.currentTime = 0;\r\n    this.game.blasterExplosionSound.play();\r\n  }\r\n\r\n  draw(context) {\r\n    this.drawExplosion(context);\r\n  }\r\n\r\n  drawExplosion(context) {\r\n    const tubeQuad = this.game.tubeQuads[this.tubeQuadIdx];\r\n    const pos = Util.midpoint(tubeQuad[0], tubeQuad[1]);\r\n    for (let i = 0; i < BlasterExplosion.COORDS.length - 1; i += 2) {\r\n      context.beginPath();\r\n      context.strokeStyle = this.cycleColors(i);\r\n      context.shadowColor = this.cycleColors(i);\r\n      context.shadowBlur = BlasterExplosion.SHADOW_BLUR;\r\n      for (var j = 1; j <= this.size; j += 2) {\r\n        const scalar = j / (BlasterExplosion.MAX_SIZE - 1);\r\n        context.moveTo(...Util.addVector(pos, BlasterExplosion.COORDS[i], scalar));\r\n        context.lineTo(...Util.addVector(pos, BlasterExplosion.COORDS[i + 1], scalar));\r\n        context.lineTo(...Util.addVector(pos, BlasterExplosion.COORDS[i + 2], scalar));\r\n      }\r\n      context.stroke();\r\n    }\r\n  }\r\n\r\n  cycleColors(i) {\r\n    const colors = [BlasterExplosion.RED, BlasterExplosion.WHITE, BlasterExplosion.YELLOW];\r\n    const flip = this.shrinking ? 1 : -1;\r\n    return colors[(BlasterExplosion.MAX_SIZE + i / 2 + this.size * flip) % 3];\r\n  }\r\n\r\n  move() {\r\n    if (this.shrinking) {\r\n      this.size -= 1;\r\n    } else {\r\n      this.size += 1;\r\n    }\r\n    if (this.size >= BlasterExplosion.MAX_SIZE) {\r\n      this.shrinking = true;\r\n    } else if (this.size <= 0) {\r\n      this.remove();\r\n    }\r\n  }\r\n}\r\n\r\nBlasterExplosion.MAX_SIZE = 12;\r\nBlasterExplosion.WHITE = '#ffffff';\r\nBlasterExplosion.YELLOW = '#ffff00';\r\nBlasterExplosion.RED = '#ff0000';\r\nBlasterExplosion.SHADOW_BLUR = 10;\r\nBlasterExplosion.COORDS = [\r\n  [6, -72],\r\n  [31, -86],\r\n  [28, -39],\r\n  [60, -57],\r\n  [49, -38],\r\n  [64, -36],\r\n  [57, -22],\r\n  [100, -14],\r\n  [42, 14],\r\n  [60, 54],\r\n  [31, 43],\r\n  [28, 79],\r\n  [6, 57],\r\n  [-15, 79],\r\n  [-22, 57],\r\n  [-30, 61],\r\n  [-24, 25],\r\n  [-69, 41],\r\n  [-58, 18],\r\n  [-69, 14],\r\n  [-51, 0],\r\n  [-83, -43],\r\n  [-22, -32],\r\n  [-19, -81],\r\n  [6, -72],\r\n];\r\n\r\nmodule.exports = BlasterExplosion;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/blaster_explosion.js\n// module id = 4\n// module chunks = 0","const MovingObject = require('./moving_object');\r\nconst Util = require('./util');\r\n\r\nclass EnemyExplosion extends MovingObject {\r\n  constructor(options) {\r\n    super(options);\r\n    this.tubeQuadIdx = options.tubeQuadIdx;\r\n    this.zPos = options.zPos;\r\n    this.size = 0.25;\r\n    this.game.enemyExplosionSound.currentTime = 0;\r\n    this.game.enemyExplosionSound.play();\r\n  }\r\n\r\n  draw(context) {\r\n    this.drawExplosion(context);\r\n  }\r\n\r\n  drawExplosion(context) {\r\n    const tubeQuad = this.game.tubeQuads[this.tubeQuadIdx];\r\n    const posRim = Util.midpoint(tubeQuad[0], tubeQuad[1]);\r\n    const posPit = Util.midpoint(tubeQuad[2], tubeQuad[3]);\r\n    const easeFraction = Util.easeOutQuad(this.zPos / EnemyExplosion.MAX_Z_POS);\r\n    const distInward = Util.vector(posRim, posPit, easeFraction);\r\n    const pos = Util.addVector(posRim, distInward);\r\n    const size = EnemyExplosion.ABS_SIZE * this.size * (2 - easeFraction);\r\n    context.strokeStyle = EnemyExplosion.WHITE;\r\n    context.shadowColor = EnemyExplosion.WHITE;\r\n    context.shadowBlur = EnemyExplosion.WHITE;\r\n    context.beginPath();\r\n    for (var i = 0; i < 8; i++) {\r\n      const theta = i * Math.PI / 8;\r\n      context.moveTo(pos[0] + size * Math.sin(theta), pos[1] + size * Math.cos(theta));\r\n      context.lineTo(pos[0] - size * Math.sin(theta), pos[1] - size * Math.cos(theta));\r\n    }\r\n    context.closePath();\r\n    context.stroke();\r\n  }\r\n\r\n  move() {\r\n    this.size += 0.25;\r\n    if (this.size > 1) {\r\n      this.remove();\r\n    }\r\n  }\r\n}\r\n\r\nEnemyExplosion.WHITE = '#ffffff';\r\nEnemyExplosion.SHADOW_BLUR = 10;\r\nEnemyExplosion.ABS_SIZE = 10;\r\nEnemyExplosion.MAX_Z_POS = 120;\r\n\r\nmodule.exports = EnemyExplosion;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/enemy_explosion.js\n// module id = 5\n// module chunks = 0","const Util = require('./util');\r\nconst Blaster = require('./blaster');\r\nconst BlasterBullet = require('./blaster_bullet');\r\nconst BlasterExplosion = require('./blaster_explosion');\r\nconst Flipper = require('./flipper');\r\nconst EnemyBullet = require('./enemy_bullet');\r\nconst EnemyExplosion = require('./enemy_explosion');\r\n\r\nclass Game {\r\n  constructor() {\r\n    this.blaster = new Blaster({ game: this });\r\n    this.start();\r\n    this.over = true;\r\n\r\n    this.blasterMoveSound = new Audio('ogg/blasterMove.ogg');\r\n    this.blasterBulletSound = new Audio('ogg/blasterBullet.ogg');\r\n    this.blasterExplosionSound = new Audio('ogg/blasterExplosion.ogg');\r\n    this.enemyBulletSound = new Audio('ogg/enemyBullet.ogg');\r\n    this.enemyExplosionSound = new Audio('ogg/enemyExplosion.ogg');\r\n  }\r\n\r\n  start() {\n    this.currentTubeIdx = 0;\n    this.tubeQuads = [];\n    this.blasters = [this.blaster];\n    this.blasterBullets = [];\n    this.blasterExplosions = [];\n    this.flippers = [];\n    this.enemyBullets = [];\n    this.enemyBulletZVel = 2;\n    this.enemyExplosions = [];\n    this.died = false;\n    this.maxNumEnemyBullets = 1;\n    this.maxNumEnemies = 2;\n    this.flipperWait = 10;\n    this.lives = 2;\n    this.score = 0;\n    this.level = 1;\n\n    this.defineTubeQuads(Game.TUBE_CIRCLE);\n    this.innerEnemyQueue = [];\n    this.outerEnemyQueue = Array(this.tubeQuads.length).fill(null);\n\n    this.queueEnemies(...Array(4).fill('flipper'));\n  }\r\n\r\n  add(object) {\r\n    if (object instanceof Blaster) {\r\n      this.blasters.push(object);\r\n    } else if (object instanceof BlasterBullet) {\r\n      this.blasterBullets.push(object);\r\n    } else if (object instanceof BlasterExplosion) {\r\n      this.blasterExplosions.push(object);\r\n    } else if (object instanceof Flipper) {\r\n      this.flippers.push(object);\r\n    } else if (object instanceof EnemyBullet) {\r\n      this.enemyBullets.push(object);\r\n    } else if (object instanceof EnemyExplosion) {\r\n      this.enemyExplosions.push(object);\r\n    } else {\r\n      throw 'unexpected object';\r\n    }\r\n  }\r\n\r\n  queueEnemies(...objects) {\r\n    for (let i = 0; i < objects.length; i++) {\r\n      this.innerEnemyQueue.push({\r\n        enemyType: objects[i],\r\n        tubeQuadIdx: Math.floor(this.tubeQuads.length * Math.random()),\r\n        zPos: Math.random(),\r\n      });\r\n    }\r\n  }\r\n\r\n  allObjectsInTube() {\r\n    return [].concat(\r\n      this.blasters,\r\n      this.blasterBullets,\r\n      this.blasterExplosions,\r\n      this.flippers,\r\n      this.enemyBullets,\r\n      this.enemyExplosions\r\n    );\r\n  }\r\n\r\n  allEnemies() {\r\n    return [].concat(\r\n      this.flippers,\r\n      this.innerEnemyQueue,\r\n      Array(this.outerQueueEnemies())\r\n    );\r\n  }\r\n\r\n  outerQueueEnemies() {\r\n    let outerQueueEnemies = 0;\r\n    for (let i = 0; i < this.outerEnemyQueue.length; i++) {\r\n      if (this.outerEnemyQueue[i] !== null) {\r\n        outerQueueEnemies += 1;\r\n      }\r\n    }\r\n    return outerQueueEnemies;\r\n  }\r\n\r\n  checkCollisions() {\r\n    const blasterObjects = [].concat(\r\n      this.blasters,\r\n      this.blasterBullets\r\n    );\r\n    const enemyObjects = [].concat(\r\n      this.flippers,\r\n      this.enemyBullets\r\n    );\r\n    for (let i = 0; i < enemyObjects.length; i++) {\r\n      for (let j = 0; j < blasterObjects.length; j++) {\r\n        const enemy = enemyObjects[i];\r\n        const blasterObject = blasterObjects[j];\r\n        if (enemy.isCollidedWith(blasterObject)) {\r\n          enemy.collideWith(blasterObject);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  draw(context) {\r\n    context.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\r\n    context.fillStyle = Game.BLACK;\r\n    context.fillRect(0, 0, Game.DIM_X, Game.DIM_Y);\r\n    this.drawLives(context);\r\n    this.drawScore(context);\r\n    this.drawLevel(context);\r\n    this.drawTubeQuads(context, Game.BLUE);\r\n    this.drawInnerEnemyQueue(context);\r\n    this.drawOuterEnemyQueue(context);\r\n    this.allObjectsInTube().forEach((object) => {\r\n      object.draw(context);\r\n    });\r\n  }\r\n\r\n  drawLives(context) {\r\n    const coords = [\r\n      [11, 0],\r\n      [21, 5],\r\n      [13, 8],\r\n      [18, 5],\r\n      [11, 2],\r\n      [4, 5],\r\n      [8, 8],\r\n      [0, 5]\r\n    ];\r\n    for (var i = 0; i < this.lives; i++) {\r\n      const pos = [44 + 27 * i, 48];\r\n      context.strokeStyle = Game.YELLOW;\r\n      context.shadowColor = Game.YELLOW;\r\n      context.shadowBlur = Game.SHADOW_BLUR;\r\n      context.beginPath();\r\n      for (let i = 0; i < coords.length; i++) {\r\n        if (i === 0) {\r\n          context.moveTo(...Util.addVector(pos, coords[i]));\r\n        } else {\r\n          context.lineTo(...Util.addVector(pos, coords[i]));\r\n        }\r\n      }\r\n      context.closePath();\r\n      context.stroke();\r\n    }\r\n  }\r\n\r\n  drawScore(context) {\r\n    Util.drawString(this.score, [163, 20], 'large', 'align-right', Game.GREEN, context);\r\n  }\r\n\r\n  drawLevel(context) {\r\n    Util.drawString(`LEVEL ${this.level}`, [271, 32], 'small', 'align-right', Game.BLUE, context);\r\n  }\r\n\r\n  defineTubeQuads(tubeShape) {\r\n    this.tubeQuads = [];\r\n    for (let i = 0; i < tubeShape[0].length - 1; i++) {\r\n      this.tubeQuads.push([\r\n        tubeShape[0][i],\r\n        tubeShape[0][i + 1],\r\n        tubeShape[1][i + 1],\r\n        tubeShape[1][i],\r\n      ]);\r\n    }\r\n  }\r\n\r\n  drawTubeQuads(context, color) {\r\n    context.shadowColor = color;\r\n    context.shadowBlur = Game.SHADOW_BLUR;\r\n\r\n    context.strokeStyle = color;\r\n    for (let i = 0; i < this.tubeQuads.length; i++) {\r\n      const tubeQuad = this.tubeQuads[i];\r\n      context.beginPath();\r\n      context.moveTo(...tubeQuad[0]);\r\n      context.lineTo(...tubeQuad[1]);\r\n      context.lineTo(...tubeQuad[2]);\r\n      context.lineTo(...tubeQuad[3]);\r\n      context.closePath();\r\n      context.stroke();\r\n    }\r\n  }\r\n\r\n  drawInnerEnemyQueue(context) {\r\n    this.pushFirstInnerEnemyToOuterEnemyQueue();\r\n\r\n    for (let i = 0; i < this.innerEnemyQueue.length; i++) {\r\n      this.rotateInnerEnemy(i);\r\n      let enemy = this.innerEnemyQueue[i];\r\n      context.fillStyle = Game.RED;\r\n      context.shadowColor = Game.RED;\r\n      context.shadowBlur = Game.SHADOW_BLUR;\r\n      const tubeQuad = this.tubeQuads[Math.floor(enemy.tubeQuadIdx)];\r\n      const posPit = Util.midpoint(tubeQuad[2], tubeQuad[3]);\r\n      const distInward = Util.orthogonalUnitVector(tubeQuad[2], tubeQuad[3], 10 + 5 * enemy.zPos);\r\n      const pos = Util.addVector(posPit, distInward);\r\n      context.beginPath();\r\n      context.arc(\r\n        pos[0], pos[1], 1, 0, 2 * Math.PI, true\r\n      );\r\n      context.fill();\r\n    }\r\n  }\r\n\r\n  pushFirstInnerEnemyToOuterEnemyQueue() {\r\n    const innerEnemiesExist = this.innerEnemyQueue.length > 0;\r\n    const outerQueueEnemiesHasRoom = this.outerQueueEnemies() < this.maxNumEnemies;\r\n    if (innerEnemiesExist & outerQueueEnemiesHasRoom) {\r\n      const firstInnerEnemyIdx = this.innerEnemyQueue[0].tubeQuadIdx;\r\n      const outerEnemySlotIsVacant = this.outerEnemyQueue[firstInnerEnemyIdx] === null;\r\n      if (outerEnemySlotIsVacant && Math.random() < 0.5) {\r\n        this.outerEnemyQueue[firstInnerEnemyIdx] = this.innerEnemyQueue.shift().enemyType;\r\n      }\r\n    }\r\n  }\r\n\r\n  rotateInnerEnemy(i) {\r\n    if (!this.died) {\r\n      this.innerEnemyQueue[i].tubeQuadIdx -= 0.5;\r\n      if (this.innerEnemyQueue[i].tubeQuadIdx < 0) {\r\n        this.innerEnemyQueue[i].tubeQuadIdx = this.tubeQuads.length - 0.5;\r\n      }\r\n    }\r\n  }\r\n\r\n  drawOuterEnemyQueue(context) {\r\n    for (let i = 0; i < this.tubeQuads.length; i++) {\r\n      if (this.outerEnemyQueue[i] !== null) {\r\n        context.fillStyle = Game.RED;\r\n        context.shadowColor = Game.RED;\r\n        context.shadowBlur = Game.SHADOW_BLUR;\r\n        const tubeQuad = this.tubeQuads[i];\r\n        const posPit = Util.midpoint(tubeQuad[2], tubeQuad[3]);\r\n        const distInward = Util.orthogonalUnitVector(tubeQuad[2], tubeQuad[3], 5);\r\n        const pos = Util.addVector(posPit, distInward);\r\n        context.beginPath();\r\n        context.arc(\r\n          pos[0], pos[1], 1, 0, 2 * Math.PI, true\r\n        );\r\n        context.fill();\r\n      }\r\n    }\r\n  }\r\n\r\n  handleMouseMove(context) {\r\n    return (e) => {\r\n      const point = [e.offsetX, e.offsetY];\r\n      if (this.over && Util.overGitHub(point)) {\r\n        e.target.style.cursor = 'pointer';\r\n      } else if (this.over && Util.overLinkedIn(point)) {\r\n        e.target.style.cursor = 'pointer';\r\n      } else if (this.over && Util.overGmail(point)) {\r\n        e.target.style.cursor = 'pointer';\r\n      } else {\r\n        e.target.style.cursor = 'crosshair';\r\n      }\r\n      if (!this.died) {\r\n        for (let i = 0; i < this.tubeQuads.length; i++) {\r\n          const boundary = this.tubeQuads[i];\r\n          if (Util.isInside(point, boundary)) {\r\n            this.blasters[0].targetXPos = Game.NUM_BLASTER_POSITIONS * i + this.xPosInTubeQuad(point, boundary);\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  xPosInTubeQuad(point, boundary) {\r\n    return Math.floor(Game.NUM_BLASTER_POSITIONS * Util.xFractionInTubeQuad(point, boundary));\r\n  }\r\n\r\n  moveObjects() {\r\n    let bulletsAndExplosions = [].concat(\r\n      this.blasterBullets,\r\n      this.blasterExplosions,\r\n      this.enemyBullets,\r\n      this.enemyExplosions\r\n    );\r\n    if (this.died && bulletsAndExplosions.length > 0) {\r\n      bulletsAndExplosions.forEach((object) => {\r\n        object.move();\r\n      });\r\n    } else {\r\n      this.allObjectsInTube().forEach((object) => {\r\n        object.move();\r\n      });\r\n    }\r\n  }\r\n\r\n  remove(object) {\r\n    if (object instanceof Blaster) {\r\n      this.blasters = [];\r\n      this.died = true;\r\n    } else if (object instanceof BlasterBullet) {\r\n      this.blasterBullets.splice(this.blasterBullets.indexOf(object), 1);\r\n    } else if (object instanceof BlasterExplosion) {\r\n      this.blasterExplosions.splice(this.blasterExplosions.indexOf(object), 1);\r\n    } else if (object instanceof Flipper) {\r\n      this.flippers.splice(this.flippers.indexOf(object), 1);\r\n    } else if (object instanceof EnemyBullet) {\r\n      this.enemyBullets.splice(this.enemyBullets.indexOf(object), 1);\r\n    } else if (object instanceof EnemyExplosion) {\r\n      this.enemyExplosions.splice(this.enemyExplosions.indexOf(object), 1);\r\n    } else {\r\n      throw 'unexpected object';\r\n    }\r\n  }\r\n\r\n  addOuterEnemyQueueToTube() {\r\n    const enemies = [].concat(\r\n      this.flippers\r\n    );\r\n    for (let i = 0; i < this.outerEnemyQueue.length; i++) {\r\n      if (!this.died && this.outerEnemyQueue[i] !== null && enemies.length < this.maxNumEnemies && Math.random() < 0.1) {\r\n        switch (this.outerEnemyQueue[i]) {\r\n          case 'flipper':\r\n            this.add(new Flipper({\r\n              xVel: Math.random() < 0.5 ? -1 : 1,\r\n              xPos: i * Game.NUM_FLIPPER_POSITIONS + Math.floor(Game.NUM_FLIPPER_POSITIONS / 2),\r\n              game: this\r\n            }));\r\n            this.outerEnemyQueue[i] = null;\r\n            break;\r\n          default:\r\n            throw 'unexpected object';\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  step() {\r\n    this.checkCollisions();\r\n    this.moveObjects();\r\n    this.addOuterEnemyQueueToTube();\r\n    if (this.died && this.allObjectsInTube().length === 0) {\r\n      this.handleDeathLogic();\r\n    }\r\n\r\n    const allEnemies = [].concat(\r\n      this.flippers,\r\n      this.innerEnemyQueue,\r\n      Array(this.outerQueueEnemies())\r\n    );\r\n    if (!this.died && this.allEnemies().length === 0) {\r\n      this.advanceToNextLevel();\r\n    }\r\n  }\r\n\r\n  handleDeathLogic() {\r\n    if (this.lives > 0) {\r\n      this.died = false;\r\n      this.lives -= 1;\r\n      this.blasters = [this.blaster];\r\n    } else {\r\n      this.over = true;\r\n    }\r\n  }\r\n\r\n  advanceToNextLevel() {\r\n    let tubeShapeIdx = Math.floor(Game.TUBE_SHAPES.length * Math.random());\r\n    while (tubeShapeIdx === this.currentTubeIdx) {\r\n      tubeShapeIdx = Math.floor(Game.TUBE_SHAPES.length * Math.random());\r\n    }\r\n    this.currentTubeIdx = tubeShapeIdx;\r\n    this.defineTubeQuads(Game.TUBE_SHAPES[tubeShapeIdx]);\r\n    this.blasterBullets = [];\r\n    this.enemyBullets = [];\r\n    this.level += 1;\r\n    this.maxNumEnemies = Math.ceil(Math.pow(Math.log(this.level), 2));\r\n    this.maxNumEnemyBullets = this.maxNumEnemies;\r\n    this.enemyBulletZVel = Math.ceil(Math.log(this.level + 1));\r\n    if (this.flipperWait > 2) {\r\n      this.flipperWait -= 1;\r\n    }\r\n    this.queueEnemies(...Array(this.level * 2).fill('flipper'));\r\n  }\r\n\r\n}\r\n\r\nGame.DIM_X = 512;\r\nGame.DIM_Y = 450;\r\nGame.NUM_BLASTER_POSITIONS = 7;\r\nGame.NUM_FLIPPER_POSITIONS = 7;\r\nGame.BLACK = '#000000';\r\nGame.BLUE = '#0000cc';\r\nGame.YELLOW = '#ffff00';\r\nGame.RED = '#ff0000';\r\nGame.GREEN = '#00ff00';\r\nGame.SHADOW_BLUR = 10;\r\nGame.TUBE_CIRCLE = [\r\n  [\r\n    [256, 60],\r\n    [316, 73],\r\n    [368, 108],\r\n    [403, 160],\r\n    [416, 221],\r\n    [403, 281],\r\n    [368, 334],\r\n    [315, 368],\r\n    [256, 381],\r\n    [195, 368],\r\n    [143, 334],\r\n    [108, 281],\r\n    [95, 221],\r\n    [108, 160],\r\n    [143, 108],\r\n    [195, 73],\r\n    [256, 60],\r\n  ],\r\n  [\r\n    [256, 255],\r\n    [264, 257],\r\n    [273, 262],\r\n    [277, 270],\r\n    [280, 279],\r\n    [277, 289],\r\n    [273, 296],\r\n    [264, 301],\r\n    [256, 303],\r\n    [247, 301],\r\n    [238, 296],\r\n    [234, 289],\r\n    [231, 279],\r\n    [234, 270],\r\n    [238, 262],\r\n    [247, 257],\r\n    [256, 255],\r\n  ]\r\n];\r\nGame.TUBE_SQUARE = [\r\n  [\r\n    [256, 95],\r\n    [328, 95],\r\n    [401, 95],\r\n    [401, 169],\r\n    [401, 242],\r\n    [401, 314],\r\n    [401, 387],\r\n    [328, 387],\r\n    [256, 387],\r\n    [183, 387],\r\n    [110, 387],\r\n    [110, 314],\r\n    [110, 242],\r\n    [110, 169],\r\n    [110, 95],\r\n    [183, 95],\r\n    [256, 95]\r\n  ],\r\n  [\r\n    [256, 270],\r\n    [267, 270],\r\n    [279, 270],\r\n    [279, 282],\r\n    [279, 294],\r\n    [279, 305],\r\n    [279, 317],\r\n    [267, 317],\r\n    [256, 317],\r\n    [244, 317],\r\n    [232, 317],\r\n    [232, 305],\r\n    [232, 294],\r\n    [232, 282],\r\n    [232, 270],\r\n    [244, 270],\r\n    [256, 270],\r\n  ]\r\n];\r\nGame.TUBE_STARBURST = [\r\n  [\r\n    [256, 114],\r\n    [332, 79],\r\n    [346, 151],\r\n    [421, 168],\r\n    [389, 242],\r\n    [421, 314],\r\n    [346, 332],\r\n    [332, 413],\r\n    [256, 368],\r\n    [179, 413],\r\n    [165, 332],\r\n    [90, 314],\r\n    [128, 242],\r\n    [90, 168],\r\n    [165, 151],\r\n    [179, 79],\r\n    [256, 114],\r\n  ],\r\n  [\r\n    [256, 268],\r\n    [266, 263],\r\n    [268, 273],\r\n    [278, 275],\r\n    [274, 286],\r\n    [278, 295],\r\n    [268, 298],\r\n    [266, 309],\r\n    [256, 303],\r\n    [245, 309],\r\n    [243, 298],\r\n    [233, 295],\r\n    [238, 286],\r\n    [233, 275],\r\n    [243, 273],\r\n    [245, 263],\r\n    [256, 268],\r\n  ]\r\n];\r\nGame.TUBE_CROSS = [\r\n  [\r\n    [256, 60],\r\n    [336, 60],\r\n    [336, 141],\r\n    [416, 141],\r\n    [416, 221],\r\n    [416, 301],\r\n    [336, 301],\r\n    [336, 381],\r\n    [256, 381],\r\n    [175, 381],\r\n    [175, 301],\r\n    [95, 301],\r\n    [95, 221],\r\n    [95, 141],\r\n    [175, 141],\r\n    [175, 60],\r\n    [256, 60],\r\n  ],\r\n  [\r\n    [256, 255],\r\n    [268, 255],\r\n    [268, 267],\r\n    [280, 267],\r\n    [280, 279],\r\n    [280, 291],\r\n    [268, 291],\r\n    [268, 303],\r\n    [256, 303],\r\n    [243, 303],\r\n    [243, 291],\r\n    [231, 291],\r\n    [231, 279],\r\n    [231, 267],\r\n    [243, 267],\r\n    [243, 255],\r\n    [256, 255],\r\n  ]\r\n];\r\nGame.TUBE_PEANUT = [\r\n  [\r\n    [226, 144],\r\n    [285, 144],\r\n    [346, 113],\r\n    [412, 128],\r\n    [455, 180],\r\n    [455, 254],\r\n    [412, 305],\r\n    [346, 320],\r\n    [285, 288],\r\n    [226, 288],\r\n    [165, 320],\r\n    [99, 305],\r\n    [56, 254],\r\n    [56, 180],\r\n    [99, 128],\r\n    [165, 113],\r\n    [226, 144],\r\n  ],\r\n  [\r\n    [252, 247],\r\n    [259, 247],\r\n    [266, 243],\r\n    [274, 245],\r\n    [280, 251],\r\n    [280, 260],\r\n    [274, 266],\r\n    [266, 268],\r\n    [259, 264],\r\n    [252, 264],\r\n    [245, 268],\r\n    [237, 266],\r\n    [231, 260],\r\n    [231, 251],\r\n    [237, 245],\r\n    [245, 243],\r\n    [252, 247],\r\n  ]\r\n];\r\nGame.TUBE_TRIANGLE = [\r\n  [\r\n    [256, 60],\r\n    [288, 123],\r\n    [318, 188],\r\n    [350, 252],\r\n    [383, 316],\r\n    [416, 381],\r\n    [361, 381],\r\n    [310, 381],\r\n    [256, 381],\r\n    [201, 381],\r\n    [148, 381],\r\n    [95, 381],\r\n    [128, 316],\r\n    [158, 252],\r\n    [190, 188],\r\n    [223, 123],\r\n    [256, 60],\r\n  ],\r\n  [\r\n    [256, 256],\r\n    [260, 264],\r\n    [265, 274],\r\n    [270, 284],\r\n    [275, 294],\r\n    [280, 303],\r\n    [271, 303],\r\n    [264, 303],\r\n    [256, 303],\r\n    [247, 303],\r\n    [239, 303],\r\n    [231, 303],\r\n    [236, 294],\r\n    [241, 284],\r\n    [246, 274],\r\n    [251, 264],\r\n    [256, 256],\r\n  ]\r\n];\r\nGame.TUBE_CLOVER = [\r\n  [\r\n    [256, 164],\r\n    [295, 82],\r\n    [393, 96],\r\n    [407, 188],\r\n    [324, 234],\r\n    [407, 280],\r\n    [393, 372],\r\n    [295, 386],\r\n    [256, 304],\r\n    [216, 386],\r\n    [118, 372],\r\n    [104, 280],\r\n    [187, 234],\r\n    [104, 188],\r\n    [118, 96],\r\n    [216, 82],\r\n    [256, 164],\r\n  ],\r\n  [\r\n    [256, 253],\r\n    [261, 240],\r\n    [276, 242],\r\n    [278, 256],\r\n    [266, 264],\r\n    [278, 270],\r\n    [276, 284],\r\n    [261, 286],\r\n    [256, 273],\r\n    [250, 286],\r\n    [235, 284],\r\n    [233, 270],\r\n    [245, 264],\r\n    [233, 256],\r\n    [235, 242],\r\n    [250, 240],\r\n    [256, 253],\r\n  ]\r\n];\r\nGame.TUBE_CELTIC = [\r\n  [\r\n    [227, 60],\r\n    [284, 60],\r\n    [301, 121],\r\n    [347, 170],\r\n    [416, 189],\r\n    [416, 252],\r\n    [347, 271],\r\n    [301, 319],\r\n    [284, 381],\r\n    [227, 381],\r\n    [210, 319],\r\n    [164, 271],\r\n    [95, 252],\r\n    [95, 189],\r\n    [164, 170],\r\n    [210, 121],\r\n    [227, 60],\r\n  ],\r\n  [\r\n    [251, 255],\r\n    [260, 255],\r\n    [262, 264],\r\n    [269, 271],\r\n    [280, 274],\r\n    [280, 284],\r\n    [269, 286],\r\n    [262, 294],\r\n    [260, 303],\r\n    [251, 303],\r\n    [249, 294],\r\n    [242, 286],\r\n    [231, 284],\r\n    [231, 274],\r\n    [242, 271],\r\n    [249, 264],\r\n    [251, 255],\r\n  ]\r\n];\r\nGame.TUBE_HEART = [\r\n  [\r\n    [256, 217],\r\n    [265, 140],\r\n    [307, 70],\r\n    [385, 76],\r\n    [416, 147],\r\n    [416, 228],\r\n    [393, 301],\r\n    [336, 357],\r\n    [256, 380],\r\n    [175, 357],\r\n    [118, 301],\r\n    [95, 228],\r\n    [95, 147],\r\n    [126, 76],\r\n    [204, 70],\r\n    [246, 140],\r\n    [256, 217]\r\n  ],\r\n  [\r\n    [256, 336],\r\n    [257, 325],\r\n    [263, 314],\r\n    [275, 314],\r\n    [280, 325],\r\n    [280, 338],\r\n    [276, 349],\r\n    [268, 357],\r\n    [256, 360],\r\n    [243, 357],\r\n    [235, 349],\r\n    [231, 338],\r\n    [231, 325],\r\n    [236, 314],\r\n    [248, 314],\r\n    [255, 325],\r\n    [256, 336],\r\n  ]\r\n];\r\nGame.TUBE_SHAPES = [\r\n  Game.TUBE_CIRCLE,\r\n  Game.TUBE_SQUARE,\r\n  Game.TUBE_STARBURST,\r\n  Game.TUBE_CROSS,\r\n  Game.TUBE_PEANUT,\r\n  Game.TUBE_CLOVER,\r\n  Game.TUBE_CELTIC,\r\n  Game.TUBE_HEART,\r\n];\r\n\r\nmodule.exports = Game;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/game.js\n// module id = 6\n// module chunks = 0","const MovingObject = require('./moving_object');\r\nconst BlasterBullet = require('./blaster_bullet');\r\nconst Blaster = require('./blaster');\r\nconst BlasterExplosion = require('./blaster_explosion');\r\nconst EnemyExplosion = require('./enemy_explosion');\r\nconst Util = require('./util');\r\n\r\nclass EnemyBullet extends MovingObject {\r\n  constructor(options) {\r\n    super(options);\r\n    this.tubeQuadIdx = options.tubeQuadIdx;\r\n    this.zPos = options.zPos;\r\n    this.zVel = this.game.enemyBulletZVel;\r\n    this.game.enemyBulletSound.currentTime = 0;\r\n    this.game.enemyBulletSound.play();\r\n  }\r\n\r\n  draw(context) {\r\n    const tubeQuad = this.game.tubeQuads[this.tubeQuadIdx];\r\n    context.fillStyle = EnemyBullet.WHITE;\r\n    context.shadowColor = EnemyBullet.WHITE;\r\n    context.shadowBlur = EnemyBullet.WHITE;\r\n    context.beginPath();\r\n    const posRim = Util.midpoint(tubeQuad[0], tubeQuad[1]);\r\n    const posPit = Util.midpoint(tubeQuad[2], tubeQuad[3]);\r\n    const easeFraction = Util.easeOutQuad(this.zPos / EnemyBullet.MAX_Z_POS);\r\n    const distInward = Util.vector(posRim, posPit, easeFraction);\r\n    const pos = Util.addVector(posRim, distInward);\r\n    context.arc(\r\n      pos[0], pos[1], 3 * (1 - easeFraction) + 1, 0, 2 * Math.PI, true\r\n    );\r\n    context.fill();\r\n  }\r\n\r\n  isCollidedWith(blasterObject) {\r\n    if (blasterObject instanceof BlasterBullet) {\r\n      return this.tubeQuadIdx === blasterObject.tubeQuadIdx && Math.abs(blasterObject.zPos - this.zPos) < 5;\r\n    } else if (blasterObject instanceof Blaster) {\r\n      return this.tubeQuadIdx === blasterObject.tubeQuadIdx && this.zPos === 0;\r\n    }\r\n  }\r\n\r\n  collideWith(blasterObject) {\r\n    if (blasterObject instanceof BlasterBullet) {\r\n      this.remove();\r\n      blasterObject.remove();\r\n      this.game.add(new EnemyExplosion({\r\n        tubeQuadIdx: this.tubeQuadIdx,\r\n        zPos: this.zPos,\r\n        game: this.game\r\n      }));\r\n    } else if (blasterObject instanceof Blaster) {\r\n      blasterObject.remove();\r\n      this.game.add(new BlasterExplosion({\r\n        tubeQuadIdx: this.tubeQuadIdx,\r\n        game: this.game\r\n      }));\r\n    }\r\n  }\r\n\r\n  move() {\r\n    if (this.zPos === 0) {\r\n      this.remove();\r\n    }\r\n    this.zPos -= this.zVel;\r\n    if (this.zPos < 0) {\r\n      this.zPos = 0;\r\n    }\r\n  }\r\n}\r\n\r\nEnemyBullet.WHITE = '#ffffff';\r\nEnemyBullet.SHADOW_BLUR = 10;\r\nEnemyBullet.MAX_Z_POS = 120;\r\n\r\nmodule.exports = EnemyBullet;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/enemy_bullet.js\n// module id = 7\n// module chunks = 0","const Util = require('./util');\r\n\r\nclass GameView {\r\n  constructor(game, canvasEl) {\r\n    this.game = game;\r\n    this.context = canvasEl.getContext('2d');\r\n    this.blaster = this.game.blaster;\r\n    this.bindHandlers(canvasEl);\r\n    this.animate();\r\n    this.clickToStartTimer = 16;\r\n  }\r\n\r\n  bindHandlers(canvasEl) {\r\n    canvasEl.addEventListener('click', this.start.bind(this));\r\n    canvasEl.addEventListener('mousemove', this.game.handleMouseMove(this.context));\r\n    canvasEl.addEventListener('mousedown', () => {\r\n      this.blaster.firing = true;\r\n    });\r\n    canvasEl.addEventListener('mouseup', () => {\r\n      this.blaster.firing = false;\r\n    });\r\n    document.addEventListener('keydown', (e) => {\r\n      switch (e.code) {\r\n        case 'Space':\r\n          this.blaster.firing = true;\r\n          break;\r\n        case 'ArrowLeft':\r\n          this.blaster.changingXPos = 7;\r\n          break;\r\n        case 'ArrowRight':\r\n          this.blaster.changingXPos = -7;\r\n          break;\r\n      }\r\n    });\r\n    document.addEventListener('keyup', (e) => {\r\n      switch (e.code) {\r\n        case 'Space':\r\n          this.blaster.firing = false;\r\n          break;\r\n        case 'ArrowLeft':\r\n          this.blaster.changingXPos = 0;\r\n          break;\r\n        case 'ArrowRight':\r\n          this.blaster.changingXPos = 0;\r\n          break;\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  start(e) {\r\n    if (this.game.over === true) {\r\n      if (Util.overGitHub([e.offsetX, e.offsetY])) {\r\n        alert('github');\r\n      } else if (Util.overLinkedIn([e.offsetX, e.offsetY])) {\r\n        alert('linkedin');\r\n      } else if (Util.overGmail([e.offsetX, e.offsetY])) {\r\n        alert('gmail');\r\n      } else {\r\n        this.game.over = false;\r\n        this.game.start();\r\n        this.clickToStartTimer = 16;\r\n      }\r\n    }\r\n  }\r\n\r\n  animate(time) {\r\n    if (!this.game.over) {\r\n      this.game.step();\r\n      this.game.draw(this.context);\r\n    } else {\r\n      this.drawSplashScreen(this.context);\r\n    }\r\n    setTimeout(this.animate.bind(this), 33); // 30 fps\r\n  }\r\n\r\n  drawSplashScreen(context) {\r\n    context.clearRect(0, 0, GameView.DIM_X, GameView.DIM_Y);\r\n    context.fillStyle = GameView.BLACK;\r\n    context.fillRect(0, 0, GameView.DIM_X, GameView.DIM_Y);\r\n    this.game.drawScore(context);\r\n    this.game.drawLevel(context);\r\n    if (this.clickToStartTimer > 0) {\r\n      Util.drawString('CLICK TO START', [181, 193], 'small', 'align-left', GameView.RED, context);\r\n    } else if (this.clickToStartTimer < -8) {\r\n      this.clickToStartTimer = 16;\r\n    }\r\n    this.clickToStartTimer -= 1;\r\n    Util.drawString('POINT OR < & > TO MOVE', [132, 225], 'small', 'align-left', GameView.YELLOW, context);\r\n    Util.drawString('CLICK OR SPACE TO SHOOT', [132, 241], 'small', 'align-left', GameView.YELLOW, context);\r\n    Util.drawString('FLIPPERS ARE HARMLESS MID-FLIP', [99, 273], 'small', 'align-left', GameView.RED, context);\r\n    Util.drawString('ENEMY BULLETS ARE DESTRUCTIBLE', [99, 289], 'small', 'align-left', GameView.RED, context);\r\n    Util.drawString('CODED BY DANIEL CHOI', [148, 406], 'small', 'align-left', GameView.CYAN, context);\r\n    Util.drawString('GITHUB - LINKEDIN - GMAIL', [121, 422], 'small', 'align-left', GameView.BLUE, context);\r\n  }\r\n\r\n}\r\n\r\nGameView.DIM_X = 512;\r\nGameView.DIM_Y = 450;\r\nGameView.BLACK = '#000000';\r\nGameView.WHITE = '#ffffff';\r\nGameView.RED = '#ff0000';\r\nGameView.BLUE = '#0000cc';\r\nGameView.CYAN = '#00ffff';\r\nGameView.YELLOW = '#ffff00';\r\nGameView.GREEN = '#00ff00';\r\nGameView.SHADOW_BLUR = 10;\r\n\r\nmodule.exports = GameView;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/game_view.js\n// module id = 8\n// module chunks = 0","const Game = require('./game');\r\nconst GameView = require('./game_view');\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  const canvasEl = document.getElementsByTagName('canvas')[0];\r\n  canvasEl.width = Game.DIM_X;\r\n  canvasEl.height = Game.DIM_Y;\r\n\r\n  context = canvasEl.getContext('2d');\r\n\r\n  const game = new Game();\r\n  new GameView(game, canvasEl);\r\n});\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/atari_tempest.js\n// module id = 9\n// module chunks = 0","const MovingObject = require('./moving_object');\r\nconst BlasterBullet = require('./blaster_bullet');\r\nconst Blaster = require('./blaster');\r\nconst BlasterExplosion = require('./blaster_explosion');\r\nconst EnemyBullet = require('./enemy_bullet');\r\nconst EnemyExplosion = require('./enemy_explosion');\r\nconst Util = require('./util');\r\n\r\nclass Flipper extends MovingObject {\r\n  constructor(options) {\r\n    super(options);\r\n    this.xPos = options.xPos;\r\n    this.xVel = options.xVel;\r\n    this.zPos = Flipper.MAX_Z_POS;\r\n    this.xPosInTubeQuad = this.xPos % Flipper.NUM_FLIPPER_POSITIONS;\r\n    this.tubeQuadIdx = Math.floor(this.xPos / Flipper.NUM_FLIPPER_POSITIONS);\r\n    this.wait = this.game.flipperWait;\r\n    this.waiting = 0;\r\n    if (Math.random() < 0.5) {\r\n      this.fireBullet();\r\n    }\r\n  }\r\n\r\n  draw(context) {\r\n    this.xPosInTubeQuad = this.xPos % Flipper.NUM_FLIPPER_POSITIONS;\r\n    this.tubeQuadIdx = Math.floor(this.xPos / Flipper.NUM_FLIPPER_POSITIONS);\r\n    const tubeQuad = this.game.tubeQuads[this.tubeQuadIdx];\r\n    context.fillStyle = Flipper.RED;\r\n    context.shadowColor = Flipper.RED;\r\n    context.shadowBlur = Flipper.SHADOW_BLUR;\r\n    context.beginPath();\r\n    const easeFraction = Util.easeOutQuad(this.zPos / Flipper.MAX_Z_POS);\r\n    const toRimRight = Util.vector(tubeQuad[0], tubeQuad[3], easeFraction);\r\n    const toRimLeft = Util.vector(tubeQuad[1], tubeQuad[2], easeFraction);\r\n    const midFlip = Math.floor(Flipper.NUM_FLIPPER_POSITIONS / 2);\r\n    let posPivotRight = Util.addVector(tubeQuad[0], toRimRight);\r\n    let posPivotLeft = Util.addVector(tubeQuad[1], toRimLeft);\r\n    let theta;\r\n    let orthogonalVector;\r\n    const orthogonalHeight = 15 * (1 - 0.9 * easeFraction);\r\n    let leftTubeIdx = this.tubeQuadIdx + 1;\r\n    if (leftTubeIdx >= this.game.tubeQuads.length) {\r\n      leftTubeIdx = 0;\r\n    }\r\n    let rightTubeIdx = this.tubeQuadIdx - 1;\r\n    if (rightTubeIdx < 0) {\r\n      rightTubeIdx = this.game.tubeQuads.length - 1;\r\n    }\r\n    if (this.xPosInTubeQuad > midFlip) {\r\n      const farLeftTubeQuad = this.game.tubeQuads[leftTubeIdx];\r\n      const posFarLeft = farLeftTubeQuad[1];\r\n      theta = Util.theta(tubeQuad[0], tubeQuad[1], posFarLeft);\r\n      if (theta < Math.PI / 3) {\r\n        theta = 2 * Math.PI - theta;\r\n      }\r\n      theta *= -(this.xPosInTubeQuad - midFlip) / Flipper.NUM_FLIPPER_POSITIONS;\r\n      orthogonalVector = Util.orthogonalUnitVector(posPivotRight, posPivotLeft, orthogonalHeight);\r\n      posPivotRight = Util.rotateAroundPoint(posPivotRight, posPivotLeft, theta);\r\n      orthogonalVector = Util.rotateAroundPoint(orthogonalVector, [0, 0], theta);\r\n    } else {\r\n      const farRightTubeQuad = this.game.tubeQuads[rightTubeIdx];\r\n      const posFarRight = farRightTubeQuad[0];\r\n      theta = Util.theta(posFarRight, tubeQuad[0], tubeQuad[1]);\r\n      if (theta < Math.PI / 3) {\r\n        theta = 2 * Math.PI - theta;\r\n      }\r\n      theta *= -(this.xPosInTubeQuad - midFlip) / Flipper.NUM_FLIPPER_POSITIONS;\r\n      orthogonalVector = Util.orthogonalUnitVector(posPivotRight, posPivotLeft, -orthogonalHeight);\r\n      posPivotLeft = Util.rotateAroundPoint(posPivotLeft, posPivotRight, theta);\r\n      orthogonalVector = Util.rotateAroundPoint(orthogonalVector, [0, 0], theta);\r\n    }\r\n    const posCornerRight = Util.addVector(Util.weightedMidpoint(posPivotRight, posPivotLeft, 0.1), orthogonalVector);\r\n    const posCreaseRight = Util.addVector(Util.weightedMidpoint(posPivotRight, posPivotLeft, 0.2), orthogonalVector, 0.5);\r\n    const posCreaseLeft = Util.addVector(Util.weightedMidpoint(posPivotRight, posPivotLeft, 0.8), orthogonalVector, 0.5);\r\n    const posCornerLeft = Util.addVector(Util.weightedMidpoint(posPivotRight, posPivotLeft, 0.9), orthogonalVector);\r\n\r\n    context.strokeStyle = '#ff0000';\r\n    context.moveTo(...posPivotRight);\r\n    context.lineTo(...posCornerLeft);\r\n    context.lineTo(...posCreaseLeft);\r\n    context.lineTo(...posPivotLeft);\r\n    context.lineTo(...posCornerRight);\r\n    context.lineTo(...posCreaseRight);\r\n    context.closePath();\r\n    context.stroke();\r\n  }\r\n\r\n  fireBullet() {\r\n    if (this.zPos > 0 && this.game.enemyBullets.length < this.game.maxNumEnemyBullets) {\r\n      const enemyBullet = new EnemyBullet({\r\n        tubeQuadIdx: this.tubeQuadIdx,\r\n        zPos: this.zPos,\r\n        game: this.game,\r\n      });\r\n      this.game.add(enemyBullet);\r\n    }\r\n  }\r\n\r\n  isCollidedWith(blasterObject) {\r\n    if (blasterObject instanceof BlasterBullet) {\r\n      const midFlip = Math.floor(Flipper.NUM_FLIPPER_POSITIONS / 2);\r\n      const blasterObjectXPos = blasterObject.tubeQuadIdx * Flipper.NUM_FLIPPER_POSITIONS + midFlip;\r\n      const numXPos = Flipper.NUM_FLIPPER_POSITIONS * this.game.tubeQuads.length;\r\n      const normalCase = Math.abs(blasterObjectXPos - this.xPos) < Flipper.NUM_FLIPPER_POSITIONS;\r\n      const rightEdgeCase = this.xPos > numXPos - midFlip && Math.abs(blasterObjectXPos + numXPos - this.xPos) < Flipper.NUM_FLIPPER_POSITIONS;\r\n      const leftEdgeCase = this.xPos < midFlip && Math.abs(blasterObjectXPos - numXPos - this.xPos) < Flipper.NUM_FLIPPER_POSITIONS;\r\n      return (normalCase || rightEdgeCase || leftEdgeCase) && Math.abs(blasterObject.zPos - this.zPos) < 5;\r\n    } else if (blasterObject instanceof Blaster) {\r\n      const midFlip = Math.floor(Flipper.NUM_FLIPPER_POSITIONS / 2);\r\n      const blasterObjectXPos = blasterObject.tubeQuadIdx * Flipper.NUM_FLIPPER_POSITIONS + midFlip;\r\n      return this.xPos === blasterObjectXPos && this.zPos === 0;\r\n    }\r\n  }\r\n\r\n  collideWith(blasterObject) {\r\n    if (blasterObject instanceof BlasterBullet) {\r\n      this.remove();\r\n      blasterObject.remove();\r\n      this.game.add(new EnemyExplosion({\r\n        tubeQuadIdx: this.tubeQuadIdx,\r\n        zPos: this.zPos,\r\n        game: this.game\r\n      }));\r\n      this.game.score += 150;\r\n    } else if (blasterObject instanceof Blaster) {\r\n      blasterObject.remove();\r\n      this.game.add(new BlasterExplosion({\r\n        tubeQuadIdx: this.tubeQuadIdx,\r\n        game: this.game\r\n      }));\r\n    }\r\n  }\r\n\r\n  move() {\r\n    if (this.game.died) {\r\n      this.zPos += 10;\r\n      if (this.zPos > Flipper.MAX_Z_POS) {\r\n        this.game.queueEnemies('flipper');\r\n        this.remove();\r\n      }\r\n    } else {\r\n      if (this.zPos > 0) {\r\n        this.zPos -= 1;\r\n      }\r\n      if (this.waiting > 0) {\r\n        this.waiting -= 1;\r\n      } else {\r\n        this.xPos += this.xVel;\r\n        const numXPos = this.game.tubeQuads.length * Flipper.NUM_FLIPPER_POSITIONS;\r\n        if (this.xPos < 0) {\r\n          this.xPos += numXPos;\r\n        } else if (this.xPos >= numXPos) {\r\n          this.xPos -= numXPos;\r\n        }\r\n        if (this.xPosInTubeQuad + this.xVel === Math.floor(Flipper.NUM_FLIPPER_POSITIONS / 2)) {\r\n          if (this.zPos > 0) {\r\n            this.waiting = this.wait;\r\n          } else {\r\n            this.waiting = Math.floor(this.wait / 2);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (!this.game.died && Math.random() < 0.01 * this.game.maxNumEnemyBullets) {\r\n      this.fireBullet();\r\n    }\r\n  }\r\n}\r\n\r\nFlipper.RED = '#ff0000';\r\nFlipper.SHADOW_BLUR = 10;\r\nFlipper.NUM_FLIPPER_POSITIONS = 7;\r\nFlipper.MAX_Z_POS = 120;\r\n\r\nmodule.exports = Flipper;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/flipper.js\n// module id = 10\n// module chunks = 0"],"sourceRoot":""}